[tox]
envlist =
    coverage
    linting

[testenv]
usedevelop = true
deps = -r{toxinidir}/dev-requirements.txt
whitelist_externals = /bin/sh

[testenv:coverage]
commands =
    coverage erase
    sh -c 'coverage run --source="./template_engines" runtests.py'
    coverage report

[testenv:linting]
changedir = template_engines
commands =
    pylama -o ../tox.ini
    isort -c -rc --quiet

[isort]
skip = .tox

[pylama]
skip = .tox/*
ignore = W0401

[pylama:pycodestyle]
max_line_length = 100

[coverage:report]
exclude_lines =
    pragma: no cover
    raise NotImplementedError

[coverage:run]
omit =
    */tests/*
    */apps.py
    */__init__.py
